# Mini MMORPG Prototype (Unity)

Готовый игровой прототип для ПК внутри Unity-проекта:

- Управление персонажем от 3-го лица (WASD)
- Стрелки ←/→ поворачивают персонажа (без стрейфа), стрелки ↑/↓ двигают вперёд/назад
- ПКМ + движение мыши: свободный обзор/поворот камеры
- Пробел: прыжок с сохранением горизонтальной скорости в полёте
- R: автобег вперёд по направлению камеры
- ЛКМ: клик по монстру выбирает цель, клик по земле ведёт персонажа в точку; авто-атака вблизи (урон 1-5)
- Монстры стоят в заранее заданных точках и агрятся только при входе в радиус
- Урон игроку от монстров
- Дроп лута (золото и зелья)
- Золото и зелья добавляются только при подборе лута
- За убийство даётся только XP, уровень растёт от XP и увеличивает макс. HP
- Использование зелья на клавишу `1`
- HUD с характеристиками, инвентарём и подсказками

## Как запустить

1. Открой проект в Unity (версия из `ProjectSettings/ProjectVersion.txt`).
2. Убедись, что в Player Settings включён New Input System (в проекте уже настроено `activeInputHandler: 1`).
3. Открой сцену `Assets/Scenes/SampleScene.unity`.
4. Нажми `Play`.

Сцена инициализируется автоматически скриптом `MMORPGBootstrap`.

Если в сцене есть объект `First Person Controller` из импортированных демо-пакетов, при старте он будет автоматически выключен, чтобы не конфликтовать с New Input System.

## Дальше для Android/iOS

Архитектура уже разделена на подсистемы (игрок, враги, лут, UI), поэтому на следующем шаге можно:

- заменить input на мобильные джойстики/кнопки,
- перевести UI на Canvas-based интерфейс,
- оптимизировать спавн и эффекты под мобильные устройства,
- добавить сетевой слой (Photon/Mirror/Netcode for GameObjects).

## Где взять ландшафт и модель персонажа

Подходящие источники:

- Unity Asset Store (бесплатные пакеты: terrain/characters/animations)
- Kenney (бесплатные ассеты)
- Quaternius (бесплатные 3D-паки)
- Mixamo (персонаж + анимации)

## Как добавить нормальный ландшафт и персонажа

1. Импортируй пакет ландшафта/материалов в `Assets/`.
2. Создай `Terrain` (`GameObject -> 3D Object -> Terrain`) или поставь готовый mesh-ландшафт.
3. Для персонажа импортируй модель (FBX/GLB), риг и анимации (Idle/Run/Attack).
4. На объект игрока добавь визуальную модель как дочерний объект, а `CharacterController` оставь на корневом `Player`.
5. Подгони коллайдер/высоту `CharacterController` под рост модели.
6. Для URP при розовом материале назначь `Universal Render Pipeline/Lit` и обнови материалы через `Edit -> Render Pipeline -> Universal Render Pipeline -> Upgrade Project Materials`.
7. Проверь, что слой/коллайдеры монстров доступны для raycast (ЛКМ-таргет).
8. На визуальной модели добавь `Animator` с назначенным `Runtime Animator Controller`; для автоматической анимации движения используй параметры `Speed` (float 0..1), `Grounded` (bool), `Attack` (trigger).


## Стартовая позиция игрока

- Создай в сцене пустой объект с именем `SpawnPoint` и поставь его в нужную точку.
- При старте и после смерти игрок будет появляться в позиции `SpawnPoint`.
- Если `SpawnPoint` отсутствует, берётся позиция активного Terrain (или fallback в `0,1,0`).
